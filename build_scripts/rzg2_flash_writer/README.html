<h1>rzg2_flash_writer Build Script</h1>

<p>This script lets you build the RZ/G2 Flash Writer software <strong>outside</strong> of the Yocto environment.</p>

<h2>Directory Location</h2>

<p>I would suggest that you keep your rzg2_flash_writer directory at the same directory level as this rzg<em>stuff repository.
If you do that, then the "rzg</em>stuff/flash_writer" script is already set up to pull the binaries directly from other project directory.
For example:</p>

<pre style="background-color: #F0F0FF">
├── home
│   └── chris
│       └── rzg2
│           ├── arm-trusted-firmware
│           ├── renesas-u-boot-cip
│           ├── rzg2_flash_writer
│           └── rzg_stuff

</pre>

<h2>Build Instructions</h2>

<h3>Clone and check out the rzg2_flash_writer repository</h3>

<p><pre style="background-color: #F0F0FF">
$ cd /home/chris/rzg2
$ git clone https://github.com/renesas-rz/rzg2_flash_writer.git
$ cd rzg2_flash_writer
$ git checkout master
</pre></p>

<p>For RZ/G2L:
<pre style="background-color: #F0F0FF">
$ git checkout rz_g2l
</pre></p>

<h3>Copy in our custom build.sh script</h3>

<p><pre style="background-color: #F0F0FF">
$ cp ../rzg_stuff/build_scripts/rzg2_flash_writer/build.sh  .
</pre></p>

<h2>Select your board and build</h2>

<p>To build, simply execute the build.sh script without any parameters.
<pre style="background-color: #F0F0FF">
./build.sh
</pre>
Then use the GUI menu to “Select your board” to select the board you want to build.</p>

<p>You do not need to change the other settings (the defaults will be chosen by the Makefile)</p>

<p>After, select the &lt; Build > button at the bottom.</p>

<p>Your settings will automatically be saved in the file <strong>board.ini</strong>.</p>

<p>The output files will be in:</p>

<ul>
<li>rzg2_flash_writer/AArch64_output/</li>
</ul>

<h2>(Optional) Build with Command Line only</h2>

<p>You may also build using the command line. In that case, pass the settings on the command line before build.sh.
For example, to build for a HiHope RZ/G2M board:
<pre style="background-color: #F0F0FF">
$ source /opt/poky/2.4.3/environment-setup-aarch64-poky-linux
$ BOARD=HIHOPE ./build.sh clean
$ BOARD=HIHOPE ./build.sh
</pre></p>

<p>The output files will be in:
 * rzg2_flash_writer/AArch64_output/</p>

<h2>Programming with flash writer</h2>

<p>If you use the "rzg_stuff/flash_writer/flash_writer.sh" script,  it is already set up to pull files from this build process.</p>

<p>Within the rzg_stuff/flash_writer/example_confi.ini file, simply define your <strong>BOARD=</strong> and <strong>FLASH=</strong> settings at the top, and then set (un-comment) <strong>BUILT_OUTSIDE_YOCTO=1</strong> at the bottom.</p>
